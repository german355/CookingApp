# Основные компоненты приложения "Cooking"

## Activities

### MainActivity
**Описание**: Главная активность приложения, отвечающая за управление фрагментами и нижней навигацией.

**Ключевые функции**:
- Управление переключением между фрагментами (HomeFragment, FavoritesFragment, ProfileFragment/AuthFragment)
- Обработка состояния аутентификации пользователя 
- Управление навигацией через BottomNavigationView
- Взаимодействие с MainViewModel для координации состояния приложения

**Жизненный цикл**:
- В `onCreate()` инициализирует ViewModel, UI-компоненты, фрагменты, обработчики событий
- В `onResume()` проверяет состояние авторизации
- Обрабатывает результаты активностей через `onActivityResult()`

### AddRecipeActivity
**Описание**: Активность для создания и добавления новых рецептов.

**Ключевые функции**:
- Форма для ввода данных рецепта (название, ингредиенты, шаги приготовления, фото)
- Взаимодействие с камерой/галереей для добавления изображений
- Сохранение рецепта в базе данных через соответствующий ViewModel

### Regist (RegisterActivity)
**Описание**: Активность для регистрации новых пользователей.

**Ключевые функции**:
- Форма регистрации с валидацией полей
- Создание нового пользователя в Firebase Authentication
- Обработка ошибок регистрации

## Fragments

### HomeFragment
**Описание**: Фрагмент для отображения списка рецептов на главном экране.

**Ключевые функции**:
- Отображение списка рецептов с использованием RecyclerView
- Реализация поиска и фильтрации рецептов
- Интеграция с соответствующим ViewModel для получения данных

### FavoritesFragment
**Описание**: Фрагмент для отображения списка избранных рецептов.

**Ключевые функции**:
- Отображение избранных рецептов пользователя
- Функционал удаления из избранного
- Синхронизация с HomeFragment для обновления состояния избранного

### ProfileFragment
**Описание**: Фрагмент для отображения профиля авторизованного пользователя.

**Ключевые функции**:
- Отображение информации о пользователе (имя, email)
- Функционал редактирования профиля (изменение имени, пароля)
- Управление аккаунтом (выход, удаление аккаунта)
- Взаимодействие с ProfileViewModel для управления данными пользователя

### AuthFragment
**Описание**: Фрагмент авторизации, который отображается вместо ProfileFragment, если пользователь не авторизован.

**Ключевые функции**:
- Форма входа с email и паролем
- Интеграция с Google Sign-In
- Переход на экран регистрации
- Взаимодействие с AuthViewModel для управления процессом авторизации

## ViewModels

### MainViewModel
**Описание**: Основная модель представления, управляющая общим состоянием приложения.

**Ключевые функции**:
- Проверка состояния авторизации пользователя
- Управление выбранным пунктом навигации
- Обработка процесса выхода из аккаунта
- Управление видимостью кнопки добавления рецепта

### ProfileViewModel
**Описание**: Модель представления для управления экраном профиля пользователя.

**Ключевые функции**:
- Получение и обновление данных профиля пользователя
- Управление процессом выхода из аккаунта
- Изменение имени пользователя и пароля
- Удаление аккаунта пользователя

### AuthViewModel
**Описание**: Модель представления для управления экраном авторизации.

**Ключевые функции**:
- Аутентификация пользователя через email/пароль
- Аутентификация через Google Sign-In
- Валидация форм ввода
- Обработка ошибок авторизации

### RecipesViewModel (и другие ViewModel для работы с рецептами)
**Описание**: Модели представления для управления рецептами и их отображением.

**Ключевые функции**:
- Получение списков рецептов из удаленного API
- Управление избранными рецептами
- Фильтрация и поиск рецептов
- Добавление и редактирование рецептов

## Сервисы и менеджеры

### FirebaseAuthManager
**Описание**: Класс для управления аутентификацией через Firebase.

**Ключевые функции**:
- Вход и регистрация пользователей
- Интеграция с Google Sign-In
- Сброс пароля
- Получение информации о текущем пользователе

### UserService
**Описание**: Сервис для работы с пользовательскими данными через API.

**Ключевые функции**:
- Получение данных пользователя с сервера
- Обновление профиля пользователя
- Удаление аккаунта

### MySharedPreferences
**Описание**: Утилитарный класс для работы с локальным хранилищем данных.

**Ключевые функции**:
- Сохранение токенов авторизации
- Хранение пользовательских настроек
- Сохранение информации о пользователе для быстрого доступа

## Адаптеры

### RecipesAdapter
**Описание**: Адаптер для отображения списка рецептов в RecyclerView.

**Ключевые функции**:
- Связывание данных рецептов с представлениями
- Обработка событий клика по элементам
- Управление анимациями и визуальными эффектами

## Вспомогательные компоненты

### Dialogs
**Описание**: Диалоговые окна для взаимодействия с пользователем.

**Ключевые функции**:
- Диалоги подтверждения действий
- Формы ввода информации
- Информационные сообщения

### Data Models
**Описание**: Классы, описывающие структуры данных приложения.

**Ключевые функции**:
- Определение структуры рецептов, пользователей и других данных
- Сериализация/десериализация для передачи данных между компонентами

## Взаимодействие компонентов

### Навигация
- Навигация между разделами осуществляется через BottomNavigationView
- Переключение между ProfileFragment и AuthFragment происходит автоматически в зависимости от состояния авторизации
- Для передачи данных между фрагментами используется общий ViewModel (LiveData) и SharedPreferences

### Авторизация
- Процесс авторизации управляется через FirebaseAuthManager
- AuthViewModel взаимодействует с FirebaseAuthManager для выполнения операций
- Результат авторизации передается в MainViewModel для обновления UI

### Работа с данными
- Получение данных из API осуществляется через сервисные классы
- Данные кэшируются локально для оффлайн-доступа
- Обновление UI происходит через механизм наблюдения LiveData 